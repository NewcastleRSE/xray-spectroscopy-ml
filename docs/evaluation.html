

<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Model Evaluation &mdash; xanesnet 0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js?v=e031e9a9"></script>
      <script src="_static/doctools.js?v=888ff710"></script>
      <script src="_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Library of Models" href="model.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            xanesnet
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installing XANESNET</a></li>
<li class="toctree-l1"><a class="reference internal" href="running.html">Running XANESNET</a></li>
<li class="toctree-l1"><a class="reference internal" href="input.html">Input File</a></li>
<li class="toctree-l1"><a class="reference internal" href="descriptor.html">Library of Descriptors</a></li>
<li class="toctree-l1"><a class="reference internal" href="model.html">Library of Models</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Model Evaluation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Project Links</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/NewcastleRSE/xray-spectroscopy-ml">XANESNET GitHub Repository</a></li>
<li class="toctree-l1"><a class="reference external" href="https://gitlab.com/team-xnet/xanesnet">XANESNET GitLab Repostiory</a></li>
<li class="toctree-l1"><a class="reference external" href="https://gitlab.com/team-xnet/training-sets">XANESNET Training Datasets</a></li>
<li class="toctree-l1"><a class="reference external" href="http://penfoldgroup.co.uk">Penfold Group</a></li>
<li class="toctree-l1"><a class="reference external" href="https://gitlab.com/team-xnet/xanesnet_keras">Original Keras Implementation</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">xanesnet</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Model Evaluation</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/evaluation.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="model-evaluation">
<h1>Model Evaluation<a class="headerlink" href="#model-evaluation" title="Permalink to this heading">ÔÉÅ</a></h1>
<p>Model performance can be evaluated using some simple invariance testing by setting <code class="docutils literal notranslate"><span class="pre">model_eval:</span> <span class="pre">True</span></code> in the training input YAML file. The input data is split into three partitions; training (75%), validation (15%) and testing (10%). The training set is used to train the model, the validation set is used to report model performance during training. The test set is held out until the model is trained to perform model evaluation.</p>
<p>For a model to be useful its predictions should be closer to ground truth than to some artifically constructed target. During model evaluation four methods are implemented to create artificial target data and the distribution of losses is compared to the true test data losses. The artificial and true losses are compared using a one-sided T-Test at the 5% level. A True or False value is returned if the model performs better than a naive model which does not learn from the data and returns artifical output. Results should be treat as informative but not binding.</p>
<p>There are four types of tests implemented currently which make comparisons between a naive model and the trained model by manipulating either the input or output data. The four types include:</p>
<ul class="simple">
<li><p>Shuffling labels of the test data</p></li>
<li><p>Using the mean of the training data</p></li>
<li><p>Shuffling the labels of the training data</p></li>
<li><p>Simulating as the mean of training data plus some Normally distributed noise with standard deviation matching the training data</p></li>
</ul>
<p>The <em>shuffle input</em> test, for example, shuffles the input test data, passes it through the trained model and then calculates to the loss with the original unshuffled target data. This artifical loss is compared with the true loss if the input data was not shuffled. The <em>shuffle output</em> test, shuffles the target test data and passes the input data through the trained model. The artifical loss is calculated as the loss between the model prediction and the shuffled targets. This is compared with the true loss if the output data was not shuffled.</p>
<p>Results from these tests are reported at the command line interface as well as logged in MLFlow. Example output of a model that passes the evaluation tests successfully is printed to the console in the format,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">====================</span> <span class="n">Running</span> <span class="n">Model</span> <span class="n">Evaluation</span> <span class="n">Tests</span> <span class="o">====================</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">Shuffle</span> <span class="n">Input</span>            <span class="p">:</span> <span class="kc">True</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">Shuffle</span> <span class="n">Output</span>           <span class="p">:</span> <span class="kc">True</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">Mean</span> <span class="n">Train</span> <span class="n">Input</span>         <span class="p">:</span> <span class="kc">True</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">Mean</span> <span class="n">Train</span> <span class="n">Output</span>        <span class="p">:</span> <span class="kc">True</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">Mean</span> <span class="n">Std</span><span class="o">.</span> <span class="n">Train</span> <span class="n">Input</span>    <span class="p">:</span> <span class="kc">True</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">Mean</span> <span class="n">Std</span><span class="o">.</span> <span class="n">Train</span> <span class="n">Output</span>   <span class="p">:</span> <span class="kc">True</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">Random</span> <span class="n">Valid</span> <span class="n">Input</span>       <span class="p">:</span> <span class="kc">True</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">Random</span> <span class="n">Valid</span> <span class="n">Output</span>      <span class="p">:</span> <span class="kc">True</span>
<span class="o">===================</span> <span class="n">MLFlow</span><span class="p">:</span> <span class="n">Evaluation</span> <span class="n">Results</span> <span class="n">Logged</span> <span class="o">==================</span>
</pre></div>
</div>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="model.html" class="btn btn-neutral float-left" title="Library of Models" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Newcastle University.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>